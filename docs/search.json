[
  {
    "objectID": "posts/20221129_citation/index.html",
    "href": "posts/20221129_citation/index.html",
    "title": "Citation and Footnotes in quarto",
    "section": "",
    "text": "footnotes:\n\nmarkdown footnote syntax (as I have to look this up regularly)\n\ncitations:\n\nexplain initial setup including a test\nexplain steps to generate citations and a bibliography with quarto"
  },
  {
    "objectID": "posts/20221129_citation/index.html#input",
    "href": "posts/20221129_citation/index.html#input",
    "title": "Citation and Footnotes in quarto",
    "section": "3.1 input",
    "text": "3.1 input\nHere is a footnote reference,[^1] and another.[^longnote]\n\n[^1]: Here is the footnote.\n[^longnote]: Here's one with multiple blocks.\n\n    Subsequent paragraphs are indented to show that they\nbelong to the previous footnote.\n\n        { some.code }\n\n    The whole paragraph can be indented, or just the first\n    line.  In this way, multi-paragraph footnotes work like\n    multi-paragraph list items.\n\nThis paragraph won't be part of the note, because it\nisn't indented.\nRemark: The content of the footnote, e.g. [^1]: Here is the footnote. can be placed anywhere in the document. I usually put it at the end of the document, because some footnotes are used more than once."
  },
  {
    "objectID": "posts/20221129_citation/index.html#output",
    "href": "posts/20221129_citation/index.html#output",
    "title": "Citation and Footnotes in quarto",
    "section": "3.2 output",
    "text": "3.2 output\nHere is a footnote reference,1 and another.2\nThis paragraph won’t be part of the note, because it isn’t indented."
  },
  {
    "objectID": "posts/20221129_citation/index.html#inline-footnote",
    "href": "posts/20221129_citation/index.html#inline-footnote",
    "title": "Citation and Footnotes in quarto",
    "section": "3.3 inline footnote",
    "text": "3.3 inline footnote\nHere is an inline note.^[Inlines notes are easier to write,\nsince you don't have to pick an identifier and move down to\ntype the note.]\nHere is an inline note.3"
  },
  {
    "objectID": "posts/20221129_citation/index.html#bibliography-generation",
    "href": "posts/20221129_citation/index.html#bibliography-generation",
    "title": "Citation and Footnotes in quarto",
    "section": "5.1 Bibliography Generation",
    "text": "5.1 Bibliography Generation\nSupose you want to add a new reference to your citation database references.bib, e.g. (Trotta et al. 2022). I usually do the following:\n\nopen google scholar\nsearch for your reference, e.g. “trotta routing on a ring”\nuse the nice link “citation” below the hit of google scholar and choose BibTex next\nsimply copy and paste the content to your references.bib file. The copied content will look like:\n\n@article{trotta2022pickup,\n  title={Pickup and delivery problems with autonomous vehicles on rings},\n  author={Trotta, Manuel and Archetti, Claudia and Feillet, Dominique and Quilliot, Alain},\n  journal={European Journal of Operational Research},\n  volume={300},\n  number={1},\n  pages={221--236},\n  year={2022},\n  publisher={Elsevier}\n}"
  },
  {
    "objectID": "posts/20221129_citation/index.html#add-a-citation-in-a-blog-document",
    "href": "posts/20221129_citation/index.html#add-a-citation-in-a-blog-document",
    "title": "Citation and Footnotes in quarto",
    "section": "5.2 Add a citation in a blog document",
    "text": "5.2 Add a citation in a blog document\n\nMarkdown format for citation is [@citation]\nGiven example: [@trotta2022pickup] renders to (Trotta et al. 2022)\nThere are other markdown format for citation, e.g. @trotta2022pickup renders to Trotta et al. (2022). For more information just have a look at the sources below."
  },
  {
    "objectID": "posts/20220928_github_actions/index.html",
    "href": "posts/20220928_github_actions/index.html",
    "title": "github actions",
    "section": "",
    "text": "GitHub Actions allows you to automate your build, test, and deployment pipeline by continuous integration and continuous delivery (CI/CD).\nYou can create workflows to build and test every pull request to your repository. Whenever an event occurs a workflow is triggered. A workflow contains one or more jobs. In other words: We specify in a workflow what (jobs) should be done when (event).\nA workflow is stored as a YAML file in the .github/workflows directory.\nIn our case we had to modify a predefined workflow from nbdev, because we have to install some non python packages which require root write permissions.\n\n\n\nWe first give the content of the yaml-file and explain its parts afterwards.\nname: stochprog_test\non: [push]\n\npermissions: write-all\n\njobs:\n  build:\n\n    runs-on: ubuntu-20.04\n\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up Python 3.8\n        uses: actions/setup-python@v4\n        with:\n          python-version: '3.8'\n      - name: install solver\n        run : sudo apt-get install -y libopenmpi-dev glpk-utils\n      - name: poetry install\n        run: |\n          python -m pip install --upgrade pip\n          curl -sSL https://install.python-poetry.org | python3 -\n          poetry install\n      - uses: fastai/workflows/quarto-ghp@master\n      - uses: fastai/workflows/nbdev-ci@master\n\n\nFirst we specify the name of the workflow. The given name will be displayed in the action tab of your github repository.\n\n\n\nThen we specify the events which will trigger the workflow. - for single event use on: push - for multiple events use on: [push, fork] - list of events that trigger workflows - there are many other activity types to trigger a workflow, e.g. issue creation\n\n\n\nWe can modify the permissions granted to the GITHUB_-_TOKEN. For simplicyty we did this for all scopes, but the permissions can be granted to to different scopes and specific jobs.\n\n\n\nA workflow is made of one or more jobs which specify what has to be done. Here build is the name of the job, which is defined afterwards. In the build job we define 1. runs-on: ubuntu-20.04 specifies the type of machine the job runs on 1. steps list the tasks of the job - Each step runs in its own process in the runner environment and has access to the workspace and filesystem. Because steps run in their own process, changes to environment variables are not preserved between steps - uses: uses: fastai/workflows/quarto-ghp@master runs an action of the fastai public repository 1. As the virtual Linux machines run passwordless we can use sudo without providing a password but add option -y to confirm the installation. Put together: run : sudo apt-get install -y libopenmpi-dev glpk-utils\n\n\n\n\n\nchaching dependencies to improve performance"
  },
  {
    "objectID": "posts/20221130_modeling_tips/index.html",
    "href": "posts/20221130_modeling_tips/index.html",
    "title": "Linear programming tricks",
    "section": "",
    "text": "2 Summary\nIn this post we saw a number of tricks to transform special models into a linear program and mentioned typical applications. We saw how to handle absolute values, minimax objectives, fractional objectives and range contraints.\n\n\n\n\n\n\nReferences\n\nBisschop, Johannes. 2006. AIMMS Optimization Modeling. Lulu. com.\n\nFootnotes\n\n\nTricks for integer programming models will be part of another blog post.↩︎"
  },
  {
    "objectID": "posts/jupyter/index.html",
    "href": "posts/jupyter/index.html",
    "title": "jupyter test",
    "section": "",
    "text": "import pyomo.environ as pyo\n\n\nmodel = pyo.ConcreteModel()\n\nmodel.x = pyo.Var([1,2], domain=pyo.NonNegativeReals)\n\nmodel.OBJ = pyo.Objective(expr = 2*model.x[1] + 3*model.x[2])\n\nmodel.Constraint1 = pyo.Constraint(expr = 3*model.x[1] + 4*model.x[2] >= 1)\n\n\nsolver = pyo.SolverFactory('glpk')\n\n\nsolver.solve(model)\n\n{'Problem': [{'Name': 'unknown', 'Lower bound': 0.666666666666667, 'Upper bound': 0.666666666666667, 'Number of objectives': 1, 'Number of constraints': 2, 'Number of variables': 3, 'Number of nonzeros': 3, 'Sense': 'minimize'}], 'Solver': [{'Status': 'ok', 'Termination condition': 'optimal', 'Statistics': {'Branch and bound': {'Number of bounded subproblems': 0, 'Number of created subproblems': 0}}, 'Error rc': 0, 'Time': 0.01656818389892578}], 'Solution': [OrderedDict([('number of solutions', 0), ('number of solutions displayed', 0)])]}\n\n\n\nmodel.pprint()\n\n1 Set Declarations\n    x_index : Size=1, Index=None, Ordered=Insertion\n        Key  : Dimen : Domain : Size : Members\n        None :     1 :    Any :    2 : {1, 2}\n\n1 Var Declarations\n    x : Size=2, Index=x_index\n        Key : Lower : Value             : Upper : Fixed : Stale : Domain\n          1 :     0 : 0.333333333333333 :  None : False : False : NonNegativeReals\n          2 :     0 :               0.0 :  None : False : False : NonNegativeReals\n\n1 Objective Declarations\n    OBJ : Size=1, Index=None, Active=True\n        Key  : Active : Sense    : Expression\n        None :   True : minimize : 2*x[1] + 3*x[2]\n\n1 Constraint Declarations\n    Constraint1 : Size=1, Index=None, Active=True\n        Key  : Lower : Body            : Upper : Active\n        None :   1.0 : 3*x[1] + 4*x[2] :  +Inf :   True\n\n4 Declarations: x_index x OBJ Constraint1"
  },
  {
    "objectID": "posts/20221128_nbdev_comands/index.html",
    "href": "posts/20221128_nbdev_comands/index.html",
    "title": "useful nbdev comands",
    "section": "",
    "text": "(please no offence - this list is only used for personal usage and text was written quickly to have a start)\n\nHamel Husain and Jeremy Howard did a great job with nbdev 2\nhowever looking up relevant comands is time consuming as they are scattered in the text at the moment.\nI am just collecting comands with short explanaition, which are in my opinion relevant for bloging with nbdev2\ndroping what is unrelavant imho"
  },
  {
    "objectID": "posts/20221128_nbdev_comands/index.html#less-relevant",
    "href": "posts/20221128_nbdev_comands/index.html#less-relevant",
    "title": "useful nbdev comands",
    "section": "less relevant",
    "text": "less relevant\n\nnbdev_preview"
  },
  {
    "objectID": "posts/welcome/index.html",
    "href": "posts/welcome/index.html",
    "title": "Welcome To My Blog",
    "section": "",
    "text": "Add some welcome text.\n\nblog will be mainly about mathematical optimization\nobjects basic notions from stochastic programming (as short high level intro for colleagues with no optimization background)\n\n\n\nLet summarize the steps to reproduce such a blog. This is mainly written for myself to avoid reading multiple\n\nCreate a github repo and clone it with SSH\nCreate conda env and add packages (we use solvers from conda forge)\n\nconda create --name SP_blog python=3.8\nconda install -c conda-forge poetry\npoetry init\npoetry add pandas jupyterlab pyomo\nconda install -c conda-forge ipopt glpk coincbc\n\ncreate quarto blog project\n\nquarto create-project SP_blog --type website:blog\n\nmove content from created folder SP_blog to the root directory\n\n\n\n\n\nmodify quarto.yml\n\nproject:\n  type: website\n  output-dir: docs\n\nadd a .nojekyll to root of repository\n\ntouch .nojekyll\n\nconfigure Github repo add picture\n\n\ngo settings\ngo pages\nselect publish from branch (suggested main) and docs directory deployment can take a while\n\n\n\n\n\nfor a new blog create a folder in the posts folder\ncreate an index.qmd or index.ipynb file with blog content\ninspect result with quarto preview\nrender, commit and push\n\nquarto render\ngit status\ngit add .\ngit commit -m \"commit message\"\ngit push\n\n\n\n\nhttps://quarto.org/docs/publishing/github-pages.html\nhttps://quarto.org/docs/websites/website-blog.html\nhttps://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent"
  },
  {
    "objectID": "posts/20220927_ChanceConstraintsIntro/cc_theory.html",
    "href": "posts/20220927_ChanceConstraintsIntro/cc_theory.html",
    "title": "Change constraints with examples in pyomo",
    "section": "",
    "text": "In a stochastic program with chance constraints we make an optimal decision prior to the realization of random data while allowing constraints to be violated with a probability specified by us. Chance constraints are also called probabilistic constraints.\nIn this post we will give the general mathematical description for stochastic programs with chance constraints and explain the following types of change constraints:\n\nsingle chance constraint\njoint chance constraints\nindividual chance constraints\n\nMoreover we will implement a basic example of each type in pyomo.\n\n\nA stochastic program with chance constraints can be expressed mathematically as follows:\n\\[\n\\begin{array}{ll}\n\\min_x & c\\cdot x \\\\\ns.t.   & P(Ax\\leq b) \\geq p\\\\\n       & x\\geq 0\n\\end{array}\n\\]\nwhere the symbols are denoting:\n\n\\(x\\in\\mathbb{R}^n\\) the decision variable,\n\\(c\\in\\mathbb{R}^n\\) the coefficients in the objective function,\n\\(A\\in\\mathbb{R}^{m\\times n}\\) coefficient of the constraints,\n\\(b\\in\\mathbb{R}^m\\) the right hand side of the constraints and\n\\(p\\in(0,1]\\) is the probability that the constraints (or some of them) may be violated.\n\nThe distinguish feature of a stochastic program with chance constraint is \\(P(Ax\\le b) \\geq p\\), which allows that the constraints may be violated with risk tolerance \\(\\epsilon=1-p\\).\n\n\n\nSupose we can describe the distribution \\(P(Ax\\leq b)\\) by set \\(S\\) of scenarios. Then we can reformulate the stochastic program with change constraints as a mixed-integer problem. Therefore introduce a binary variable \\(y_k\\) which equals 1 if and only if the constraint is satisfied in scenario \\(k\\). Afterwards the stochastic program with chance constraint is given by:\n\\[\n\\begin{array}{ll}\n\\min & c x \\\\\ns.t. & A_kx \\leq b_k + M_k(1-y_k) \\\\\n     & \\sum_{k\\in S} p_k y_k \\geq p \\\\\n     & x\\geq0,  y\\in \\{0,1\\}^{|S|}\n\\end{array}\n\\]\nHere \\(M_k\\in\\mathbb{R}^m\\) is a suitable choosen big-M vector and \\(p_k\\) the likelihood of scenario \\(k\\)."
  },
  {
    "objectID": "posts/20220927_ChanceConstraintsIntro/cc_theory.html#joint-chance-constraints",
    "href": "posts/20220927_ChanceConstraintsIntro/cc_theory.html#joint-chance-constraints",
    "title": "Change constraints with examples in pyomo",
    "section": "3.1 Joint chance constraints",
    "text": "3.1 Joint chance constraints\nIn stochastic programs with joint chance constraints all constraints have to be satisfied simultaneously.\nThe following example is taken from the GAMS documentation:\n\\[\n\\begin{array}{llc}\n\\min & x_1 + x_2 & \\\\\ns.t. & P(\\omega_1 x_1 +x_2 \\geq 7, \\omega_2 x_1 +3 x_2 \\geq 12) \\geq 0.6 & (\\omega_1,\\omega_2) \\in S \\\\\n     & x_1,x_2\\geq 0 &\n\\end{array}\n\\]\nSuppose we have 12 equaly likely scenarios.\n\n\nCode\nS = {\n    1: {'omega_1': 1, 'omega_2': 1, 'probability': 1./12. },\n    2: {'omega_1': 1, 'omega_2': 2, 'probability': 1./12. },\n    3: {'omega_1': 1, 'omega_2': 3, 'probability': 1./12. },\n    4: {'omega_1': 2, 'omega_2': 1, 'probability': 1./12. },\n    5: {'omega_1': 2, 'omega_2': 2, 'probability': 1./12. },\n    6: {'omega_1': 2, 'omega_2': 3, 'probability': 1./12. },\n    7: {'omega_1': 3, 'omega_2': 1, 'probability': 1./12. },\n    8: {'omega_1': 3, 'omega_2': 2, 'probability': 1./12. },\n    9: {'omega_1': 3, 'omega_2': 3, 'probability': 1./12. },\n    10: {'omega_1': 4, 'omega_2': 1, 'probability': 1./12. },\n    11: {'omega_1': 4, 'omega_2': 2, 'probability': 1./12. },\n    12: {'omega_1': 4, 'omega_2': 3, 'probability': 1./12. },\n}\np = 0.6\ndf = pd.DataFrame(S).T\ndf.index.name = 'sceanrio'\ndf\n\n\n\n\n\n\n  \n    \n      \n      omega_1\n      omega_2\n      probability\n    \n    \n      sceanrio\n      \n      \n      \n    \n  \n  \n    \n      1\n      1.0\n      1.0\n      0.083333\n    \n    \n      2\n      1.0\n      2.0\n      0.083333\n    \n    \n      3\n      1.0\n      3.0\n      0.083333\n    \n    \n      4\n      2.0\n      1.0\n      0.083333\n    \n    \n      5\n      2.0\n      2.0\n      0.083333\n    \n    \n      6\n      2.0\n      3.0\n      0.083333\n    \n    \n      7\n      3.0\n      1.0\n      0.083333\n    \n    \n      8\n      3.0\n      2.0\n      0.083333\n    \n    \n      9\n      3.0\n      3.0\n      0.083333\n    \n    \n      10\n      4.0\n      1.0\n      0.083333\n    \n    \n      11\n      4.0\n      2.0\n      0.083333\n    \n    \n      12\n      4.0\n      3.0\n      0.083333\n    \n  \n\n\n\n\nA pyomo implementation is given in the next code cell.\n\n\nCode\ndef joint_cc(S, p):\n    \n    m = pyo.ConcreteModel()\n    # sets\n    m.I = pyo.Set(initialize = [1,2], doc = 'index decision var')\n    m.S = pyo.Set(initialize = S.keys(), doc = 'scenario indices')\n    \n    # param\n    m.r = pyo.Param(initialize = 1 - p, doc = '1-p - risk tolerance')\n    m.M = pyo.Param(initialize = 100, doc = 'big-M')\n    \n    @m.Param(m.S, doc ='scenario probability')\n    def p(m,s):\n        return S[s]['probability']\n    \n    @m.Param(m.S, doc = 'coefficient omega_1')\n    def omega1(m,s):\n        return S[s]['omega_1']\n    @m.Param(m.S, doc = 'coefficient omega_2')\n    def omega2(m,s):\n        return S[s]['omega_2']\n    \n    # vars\n    m.x = pyo.Var(m.I, domain = pyo.NonNegativeReals)\n    m.y = pyo.Var(m.S, domain = pyo.Binary)\n    m.cc = pyo.Var(domain = pyo.NonNegativeReals, bounds = (0, m.r))\n    \n    # objective\n    m.OBJ = pyo.Objective(expr = sum(m.x[i] for i in m.I), sense = pyo.minimize)\n    \n    \n    # constraints\n    @m.Constraint(m.S, doc = '1st inequal of joint prob')\n    def c1(m, s):\n        return m.omega1[s] * m.x[1] + m.x[2] >= 7 - m.M * (1- m.y[s])\n    \n    @m.Constraint(m.S, doc = '2nd inequal of joint prob')\n    def c2(m, s):\n        return m.omega2[s] * m.x[1] + 3*m.x[2] >= 12 - m.M * (1- m.y[s])\n    \n    m.cc_def = pyo.Constraint(expr = m.cc == 1 - sum(m.p[k] * m.y[k] for k in m.S))\n    \n    solver = pyo.SolverFactory('glpk')\n    solver.solve(m)\n    \n    return(m)\n\n\n\ninspect solution and check implementation\nFirst we inspect the values of the decision variables.\n\n\nCode\nm = joint_cc(S,p)\n# inspect decision\nm.x.pprint()\n\n\nx : Size=2, Index=I\n    Key : Lower : Value : Upper : Fixed : Stale : Domain\n      1 :     0 :   1.8 :  None : False : False : NonNegativeReals\n      2 :     0 :   3.4 :  None : False : False : NonNegativeReals\n\n\nWe look which scenarios were violated next.\n\n\nCode\n# inspect violation\nm.y.pprint()\n\n\ny : Size=12, Index=S\n    Key : Lower : Value : Upper : Fixed : Stale : Domain\n      1 :     0 :   0.0 :     1 : False : False : Binary\n      2 :     0 :   0.0 :     1 : False : False : Binary\n      3 :     0 :   0.0 :     1 : False : False : Binary\n      4 :     0 :   0.0 :     1 : False : False : Binary\n      5 :     0 :   1.0 :     1 : False : False : Binary\n      6 :     0 :   1.0 :     1 : False : False : Binary\n      7 :     0 :   1.0 :     1 : False : False : Binary\n      8 :     0 :   1.0 :     1 : False : False : Binary\n      9 :     0 :   1.0 :     1 : False : False : Binary\n     10 :     0 :   1.0 :     1 : False : False : Binary\n     11 :     0 :   1.0 :     1 : False : False : Binary\n     12 :     0 :   1.0 :     1 : False : False : Binary\n\n\nAt last we check the value of the corresponding risk.\n\n\nCode\n# inspect risk\nm.cc.pprint()\n\n\ncc : Size=1, Index=None\n    Key  : Lower : Value             : Upper : Fixed : Stale : Domain\n    None :     0 : 0.333333333333333 :   0.4 : False : False : NonNegativeReals\n\n\n\n\nevaluating solution\nWe see that both constraints are satisfied in 8 scenarios. Indeed as there are 12 equally likely scenarios, at least \\(12\\cdot 0.6 \\approx 7.2\\) scenarios have to be satisfied.\nObviously the solution violates the scenarios/constraints with the smallest coeffients for \\(x_1\\).\nfor s in m.S: if pyo.value(m.y[s]) != 1: print(‘scenario:’ + str(s)) m.c1[s].pprint() m.c2[s].pprint()"
  },
  {
    "objectID": "posts/20220927_ChanceConstraintsIntro/cc_theory.html#individual-chance-constraints",
    "href": "posts/20220927_ChanceConstraintsIntro/cc_theory.html#individual-chance-constraints",
    "title": "Change constraints with examples in pyomo",
    "section": "3.2 Individual chance constraints",
    "text": "3.2 Individual chance constraints\nIf there is no correlation between the probabilities of the matrix \\(A\\), then we have a stochastic problem with individual chance constraints and the linear program has the following form:\n\\[\n\\begin{array}{llc}\n\\min & cx & \\\\\ns.t. & P(A_ix \\leq b_i) \\geq p_i,& \\text{for}\\; i = 1,\\ldots,m\\\\\n     & x \\geq 0 &\n\\end{array}\n\\]\nAgain we use an example from the GAMS documentation:\n\\[\n\\begin{array}{lll}\n\\min & x_1 + x_2 & \\\\\ns.t. & P(\\omega_1 x_1 + x 2 \\geq 7 ) \\geq 0.75, & \\omega_1\\in S_1:=\\{1,2,3,4\\} \\\\\n     & P(\\omega_2 x_1 + 3*x 2 \\geq 12 ) \\geq 0.6, & \\omega_2\\in S_2:=\\{1,2,3\\} \\\\\n     & P(\\omega_1 x_1 + \\omega_2*x 2 \\geq 10 ) \\geq 0.5, & \\omega_2\\in S:= S_1 \\times S_2 \\\\\n     & x_1,x_2 \\geq 0\n\\end{array}\n\\]\n\na binary decision variable \\(y_{s,i}\\) for each individual chance constraint \\(i\\) and each scenario \\(s\\)\na “risk variable” \\(cc_i\\) for each individual chance constraint\n\n\n\nCode\n# data\nS1 = {1:1, 2:2, 3:3, 4:4}\nS2 = {1:1, 2:2, 3:3}\n\n\nA pyomo implementation is given in the next code cell.\n\n\nCode\n# model not written for speed, e.g. contains redundant constraints\ndef individual_cc(S1,S2):\n    m = pyo.ConcreteModel('Individual Chance Constraints')\n    \n    #sets\n    m.I = pyo.Set(initialize = [1,2], doc = 'index decision variables')\n    m.S1 = pyo.Set(initialize = S1.keys(), doc = 'index set S1')\n    m.S2 = pyo.Set(initialize = S2.keys(), doc = 'index set S2')\n    m.S = pyo.Set(initialize = m.S1 * m.S2, doc = 'index scenarios')\n    \n    # parameter\n    m.M = pyo.Param(initialize = 1000., doc = 'big-M')\n    \n    @m.Param(m.S, doc ='scenario probability')\n    def p(m,_s1,_s2):\n        return 1. / len(m.S)\n    @m.Param(m.S1, doc = 'coefficients for S1')\n    def omega1(m,s1):\n        return S1[s1]\n    @m.Param(m.S2, doc = 'coefficients for S2')\n    def omega2(m,s2):\n        return S2[s2]\n    \n    # vars\n    m.x = pyo.Var(m.I, domain = pyo.NonNegativeReals)\n    m.y1 = pyo.Var(m.S, domain = pyo.Binary)\n    m.y2 = pyo.Var(m.S, domain = pyo.Binary)\n    m.y3 = pyo.Var(m.S, domain = pyo.Binary)\n    m.cc1 = pyo.Var(domain = pyo.NonNegativeReals, bounds = (0, 1 - 0.75))\n    m.cc2 = pyo.Var(domain = pyo.NonNegativeReals, bounds = (0, 1 - 0.6))\n    m.cc3 = pyo.Var(domain = pyo.NonNegativeReals, bounds = (0, 1 - 0.5))\n    \n    # objective\n    m.OBJ = pyo.Objective(expr = sum(m.x[i] for i in m.I), sense = pyo.minimize)\n    \n    \n    # constraints\n    @m.Constraint(m.S, doc = 'individual chance constraint 1')\n    def C1(m,s1,s2):\n        return m.omega1[s1] * m.x[1] + m.x[2] >= 7 - m.M * (1- m.y1[s1,s2])\n    \n    @m.Constraint(m.S, doc = 'individual chance constraint 2')\n    def C2(m,s1,s2):\n        return m.omega2[s2] * m.x[1] + 3 * m.x[2] >= 12 - m.M * (1 - m.y2[s1,s2])\n    \n    @m.Constraint(m.S, doc = 'individual chance constraint 3')\n    def C3(m,s1,s2):\n        return m.omega1[s1] * m.x[1] + m.omega2[s2] * m.x[2] >= 10 - m.M * (1 - m.y3[s1,s2])\n    \n    \n    \n    m.cc1_def = pyo.Constraint(expr = m.cc1 == 1 - sum(m.p[s1,s2] * m.y1[s1,s2] for s1,s2 in m.S))\n    m.cc2_def = pyo.Constraint(expr = m.cc2 == 1 - sum(m.p[s1,s2] * m.y2[s1,s2] for s1,s2 in m.S))\n    m.cc3_def = pyo.Constraint(expr = m.cc3 == 1 - sum(m.p[s1,s2] * m.y3[s1,s2] for s1,s2 in m.S))\n    \n    \n    solver = pyo.SolverFactory('glpk')\n    solver.solve(m)\n    \n    return m\n\n\n\ninspect solution\nFirst we look at the values of decision variables of the stochastic program with individual chance constraints from abive.\n\n\nCode\nm = individual_cc(S1,S2)\n#m.pprint()\nm.x.pprint()\n\n\nx : Size=2, Index=I\n    Key : Lower : Value : Upper : Fixed : Stale : Domain\n      1 :     0 :  2.25 :  None : False : False : NonNegativeReals\n      2 :     0 :   2.5 :  None : False : False : NonNegativeReals\n\n\nNext we look at the violated constraints/scenarios.\n\n\nCode\nprint('violated scenarios for individual chance constraint 1:')\nprint([(s1,s2) for s1,s2 in m.S if pyo.value(m.y1[s1,s2]) == 0])\n\n\nprint('violated scenarios for individual chance constraint 2:')\nprint([(s1,s2) for s1,s2 in m.S if pyo.value(m.y2[s1,s2]) == 0])\n\nprint('violated scenarios for individual chance constraint 3:')\nprint([(s1,s2) for s1,s2 in m.S if pyo.value(m.y3[s1,s2]) == 0])\n\n\nviolated scenarios for individual chance constraint 1:\n[(1, 1), (1, 2), (1, 3)]\nviolated scenarios for individual chance constraint 2:\n[(1, 1), (2, 1), (3, 1), (4, 1)]\nviolated scenarios for individual chance constraint 3:\n[(1, 1), (1, 2), (1, 3), (2, 1), (2, 2), (3, 1)]\n\n\n\n\nCode\nprint('risk of individual chance constraint 1: ' + str(pyo.value(m.cc1)))\n\nprint('risk of individual chance constraint 2: ' + str(pyo.value(m.cc2)))\n\nprint('risk of individual chance constraint 3: ' + str(pyo.value(m.cc3)))\n\n\nrisk of individual chance constraint 1: 0.25\nrisk of individual chance constraint 2: 0.333333333333333\nrisk of individual chance constraint 3: 0.5\n\n\n\n\nevaluating solution\nTBD"
  },
  {
    "objectID": "posts/20221004_buildingblog/index.html",
    "href": "posts/20221004_buildingblog/index.html",
    "title": "building blog",
    "section": "",
    "text": "Hamel Husain and Jeremy Howard did a great job with nbdev 2\noften their post start with migration from nbdev 1 or other topics\nto shorten the reading of their posts I am sumarizing their post for myself here\nthere will be some gaps we have to fill which I did not saw while reading or were not mentioned by Hamel Husain and Jeremy Howard"
  },
  {
    "objectID": "posts/20221004_buildingblog/index.html#history",
    "href": "posts/20221004_buildingblog/index.html#history",
    "title": "building blog",
    "section": "history",
    "text": "history\n\nsetup (nbdev project)\n\ninstall quarto (one time)\ncreate conda env + poetry\ncreate empty repo and clone it\npoetry init\npoetry add nbdev notebook\nnbdev_new\ncommit and push to test CI/CD workflows\nset up github pages\nnbdev_install_hooks\nnbdev_export\npip install -e ‘.[dev]’\n\nadd dependencies to github workflow\nunrelevant from nbdev bloging tutorial\n\n   quarto create-project --type website:blog .\n   quarto install extension quarto-ext/video\n\nrelevant from nbdev bloging tutorial\n\ncreate blog directory in the nbs folder\ncreate index.qmd file\nedit _quarto.yml\nquarto publish :\n\nIf using GitHub Pages, commit your files to GitHub before publish your site. No GitHub Actions are needed, you can use quarto publish instead. If you want to automate your workflow with GitHub Actions, you can follow these instructions."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "SP_blog",
    "section": "",
    "text": "modeling\n\n\n\n\nTricks to transform a optimization model into a linear program\n\n\n\n\n\n\nNov 30, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nquarto\n\n\n\n\nQuick introduction to use citation and footnotes in quarto\n\n\n\n\n\n\nNov 29, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnbdev\n\n\n\n\nlist of nbdev commands\n\n\n\n\n\n\nNov 28, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntest\n\n\n\n\na test to blog a jupyter notebook with a pyomo model\n\n\n\n\n\n\nNov 27, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnews\n\n\n\n\n\n\n\n\n\n\n\nNov 24, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ngithub\n\n\n\n\nuse github actions\n\n\n\n\n\n\nSep 28, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\npyomo\n\n\nmodeling\n\n\n\n\nIn a stochastic program we can put uncertainty on the constraints. We give a short introduction about the different types of chance constraints and implement some examples in pyomo.\n\n\n\n\n\n\nSep 27, 2022\n\n\ncbarz\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnbdev\n\n\nquarto\n\n\n\n\nbuild a blog with quarto and nbdev\n\n\n\n\n\n\nApr 10, 2022\n\n\ncbarz\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "At the moment its mainly about how to build a blog with nbdev and quarto and publish it on github. As the documentation for these three tools is exhaustive, the corresponding blog post aggregate what was relevant for myself."
  }
]